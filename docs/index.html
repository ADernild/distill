<!doctype html>

<head>
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="chrome=1">
<meta name="generator" content="pandoc" />

<title>Distill for R Markdown</title>


  <script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
  <link href="site_libs/distill-1.0/distill.css" rel="stylesheet" />
  <script src="site_libs/distill-1.0/distill.js"></script>
  <script src="site_libs/distill-1.0/template.v1.js"></script>
  <script type="text/front-matter">
  title: Distill for R Markdown
  description: ~
  authors: ~
  affiliations: ~
  
  </script>
  <script type="text/bibliography">
  @article{knuth1984,
    title={Literate programming},
    author={Knuth, Donald E.},
    journal={The Computer Journal},
    volume={27},
    number={2},
    pages={97--111},
    year={1984},
    publisher={British Computer Society}
  }
  @Book{xie2015,
    title = {Dynamic Documents with R and knitr},
    author = {Yihui Xie},
    publisher = {Chapman and Hall/CRC},
    address = {Boca Raton, Florida},
    year = {2015},
    edition = {2nd},
    note = {ISBN 978-1498716963},
    url = {http://yihui.name/knitr/},
  }
  @Manual{R-rmarkdown,
      title = {rmarkdown: Dynamic Documents for R},
      author = {JJ Allaire and Yihui Xie and Jonathan McPherson and Javier Luraschi and Kevin Ushey and Aron Atkins and Hadley Wickham and Joe Cheng and Winston Chang},
      year = {2018},
      note = {R package version 1.9},
      url = {https://CRAN.R-project.org/package=rmarkdown},
    }
  @Manual{R-base,
    title = {R: A Language and Environment for Statistical
      Computing},
    author = {{R Core Team}},
    organization = {R Foundation for Statistical Computing},
    address = {Vienna, Austria},
    year = {2016},
    url = {https://www.R-project.org/},
  }
  
  
  
  </script>

<style type="text/css">
pre>code {
  white-space: pre-wrap;
  line-height: 1.5;
}
</style>


  <link rel="stylesheet" href="styles.css" type="text/css" />

</head>

      <dt-header>
    <div class="content l-page">
      <a href="/index.html" class="logo">
        <svg viewBox="-607 419 64 64">
          <path d="M-573.4,478.9c-8,0-14.6-6.4-14.6-14.5s14.6-25.9,14.6-40.8c0,14.9,14.6,32.8,14.6,40.8S-565.4,478.9-573.4,478.9z"/>
            </svg>
        Distill for R Markdown
      </a>
      <div class="nav">
        <a href="/index.html">About</a>
        <a href="/visualizations.html">Visualizations</a>
        <a href="/reference.html">Reference</a>
        <a href="https://github.com/jjallaire/distill">GitHub</a>
      </div>
    </div>
    </dt-header>
  
<dt-article class="centered">
  <h1>Distill for R Markdown</h1>
  
    <p>Distill is a new publication format created for use in <a href="https://distill.pub" class="uri">https://distill.pub</a>, a machine learning journal devoted to clear explanations, native to the web. The Distill format features:</p>
<ul>
<li>Attractive, reader-friendly typography that adapts well to mobile devices.</li>
<li>Flexible layout options for visualizations, including visualizations that occupy the full width of the screen.</li>
<li>Support for features essential to technical writing like LaTeX math, footnotes, and citations.</li>
</ul>
<h2 id="getting-started">Getting Started</h2>
<p>To create an <a href="https://rmarkdown.rstudio.com">R Markdown</a> document that uses the Distill format, first install the <strong>distill</strong> R package:</p>
<pre class="r"><code>
devtools::install_github(&quot;jjallaire/distill&quot;)</code></pre>
<p>Next, be sure that you are running <a href="https://github.com/jgm/pandoc/releases/latest">Pandoc v2.0</a> or higher (the Distill format requires a later version of Pandoc than ships by default with RStudio). You can check the current version of Pandoc with:</p>
<pre class="r"><code>
rmarkdown::pandoc_version()</code></pre>
<p>Then, use the <strong>New R Markdown</strong> dialog within RStudio to create a new Distill article:</p>
<p><img src="images/new_distill_article.png" class="l-body screenshot" /></p>
<p>You can also create a new Distill article from the command line with:</p>
<pre class="r"><code>
rmarkdown::draft(&quot;article.Rmd&quot;, &quot;distill_article&quot;, &quot;distill&quot;)</code></pre>
<p>Distill articles use <code>distill::distill_article</code> as their output format, and typically include title, description, and author/affiliation entires in their YAML front-matter:</p>
<pre class="yaml"><code>
---
title: &quot;My Article&quot;
description: |
  A new article created using the Distill format.
authors:
  JJ Allaire: https://github.com/jjallaire
  Yihui Xie: https://github.com/yihui
affiliations:
  RStudio: https://www.rstudio.com
  RStudio: https://www.rstudio.com
output: distill::distill_article
bibliography: biblio.bib
---</code></pre>
<p>The article’s description and author bylines are automatically rendered as part of the title area of the document.</p>
<p>Note the <code>bibliography</code> field is used to provide a reference to the Bibtex file where all of the sources cited in your article are defined. The next section explains how to include citations in your article.</p>
<h2 id="citations">Citations</h2>
<p>Bibtex is the supported way of making academic citations. To include citations, first create a bibtex file and refer to it from the <code>bibliography</code> field of the YAML front-matter (as illustrated above).</p>
<p>For example, your bibliography file might contain:</p>
<pre class="bibtex"><code>
@Book{xie2015,
  title = {Dynamic Documents with R and knitr},
  author = {Yihui Xie},
  publisher = {Chapman and Hall/CRC},
  address = {Boca Raton, Florida},
  year = {2015},
  edition = {2nd},
  note = {ISBN 978-1498716963},
  url = {http://yihui.name/knitr/},
}</code></pre>
<p>You are strongly encouraged you to populate the url bibtex field where possible so that links can be provided for citations.</p>
<p>Citations are then used in the article body with standard Pandoc markdown notation, for example: <code>[@xie2015]</code> (which references an id provided in the bibiography). Note that multiple ids (separated by semicolons) can be provided.</p>
<p>The citation is presented inline like this: <span class="citation">(Xie <a href="#ref-xie2015">2015</a>)</span> (a number that displays more information on hover). If you have an appendix, a bibliography is automatically created and populated in it.</p>
<p>Distill chose a numerical inline citation style to improve readability of citation dense articles and because many of the benefits of longer citations are obviated by dispalying more information on hover. However, we consider it good style to mention author last names if you discuss something at length and it fits into the flow well—the authors are human and it’s nice for them to have the community associate them with their work.</p>
<h2 id="footnotes">Footnotes</h2>
<p>Footnotes use standard Pandoc markdown notation, for example <code>^[This will become a hoverable footnote]</code>. The number of the footnote will be automatically generated.<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a></p>
<p>You can also optionally include notes in the gutter of the article (immediately to the right of the article text). To do this create a <code>&lt;div&gt;</code> with class <code>l-gutter</code>. For example:</p>
<div class="l-gutter">
<p>This content will appear in the gutter of the article.</p>
</div>
<pre class="html"><code>
&lt;div class=&quot;l-gutter&quot;&gt;
This content will appear in the gutter of the article.
&lt;/div&gt;</code></pre>
<h2 id="code-blocks">Code Blocks</h2>
<p>Syntax highlighting is provided for code chunks and markdown code blocks. Note that by default the Distill format does not display the code for chunks that are evaluated to produce output (knitr option <code>echo = FALSE</code>).</p>
<p>To display the code that was evaluated to produce output you can set the <code>echo</code> chunk option to <code>TRUE</code>:</p>
<pre><code>
```{r, echo=FALSE}
1 + 1
```</code></pre>
<p>To include code that is only displayed and not evaluated specify the <code>eval=FALSE</code> option:</p>
<pre><code>
```{r, eval=FALSE, echo=FALSE}
1 + 1
```</code></pre>
<h2 id="equations">Equations</h2>
<p>Inline and display equations are supported via standard markdown <a href="https://www.mathjax.org/">MathJax</a> syntax. For example, the following <a href="https://en.wikibooks.org/wiki/LaTeX/Mathematics">LaTeX math</a>:</p>
<pre><code>
$$
\sigma = \sqrt{ \frac{1}{N} \sum_{i=1}^N (x_i -\mu)^2}
$$</code></pre>
<p>Will be rendered as:</p>
<p><span class="math display">\[
\sigma = \sqrt{ \frac{1}{N} \sum_{i=1}^N (x_i -\mu)^2}
\]</span></p>
<h2 id="diagrams">Diagrams</h2>
<p>To include diagrams within a distill article, we recommend trying out the <a href="http://rich-iannone.github.io/DiagrammeR/">DiagrammerR</a> package, which enables you to generate graph diagrams using text in a markdown-like syntax.</p>
<p>If you need more flexibilty than DiagrammeR affords, you can also try out the <a href="https://rstudio.github.io/r2d3">r2d3</a> package to include diagrams created with <a href="https://d3js.org/">D3.js</a>.</p>
<p>For more highly customized static diagrams you can use a vector graphics tools like <a href="https://inkscape.org/en/">Inkscape</a>, <a href="https://www.adobe.com/products/illustrator.html">Adobe Illustrator</a>, or <a href="https://www.sketchapp.com/">Sketch</a>. For equations in diagrams, inkscape has a plugin to support LaTeX equations, while Illustrator integrates well with tools like Equation Maker.</p>
<h2 id="figures">Figures</h2>
<p>There are a variety of ways to layout figures included within Distill articles. This layout is controlled by a set of layout classes, which are in turn applied to R Markdown chunks using the <code>fig.layout</code> chunk option.</p>
<p>The default layout if <code>fig.layout</code> is not specified is <code>l-body</code>, which will cause figures to span with width of the main article body:</p>
<div class="fake-img l-body">
<p>
l-body
</p>
</div>
<p>For example, a figure with the default <code>l-body</code> layout would look like this:</p>
<p><img src="images/l-body-figure.png" class="l-body" /></p>
<p>For figures you want to display a little larger, try these:</p>
<div class="fake-img l-middle">
<p>
l-middle
</p>
</div>
<div class="fake-img l-page">
<p>
l-page
</p>
</div>
<p>For example, this plot specifies the <code>l-middle</code> layout using the <code>fig.layout</code> chunk option:</p>
<pre><code>
```{r, fig.layout=&quot;l-middle&quot;, fig.width=6, fig.height=1.5}
ggplot(diamonds, aes(carat, price)) + geom_smooth() +
  facet_grid(~ cut)
```</code></pre>
<p><img src="images/l-middle-figure.png" class="l-middle" /></p>
<p>Note that when specifying an alternate <code>fig.layout</code> you should also specify and appropriate <code>fig.width</code> and <code>fig.height</code> for that layout.</p>
<p>All of these have an <code>outset</code> variant if you want to poke out from the body text a little bit. For instance:</p>
<div class="fake-img l-body-outset">
<p>
l-body-outset
</p>
</div>
<div class="fake-img l-middle-outset">
<p>
l-middle-outset
</p>
</div>
<div class="fake-img l-page-outset">
<p>
l-page-outset
</p>
</div>
<p>Occasionally you’ll want to use the full browser width. For this, use <code>l-screen</code>. You can also inset the element a little from the edge of the browser by using the inset variant:</p>
<div class="fake-img l-screen">
<p>
l-screen
</p>
</div>
<div class="fake-img l-screen-inset">
<p>
l-screen-inset
</p>
</div>
<p>Often you want to position smaller figures so as not to completely interrupt the flow of your text. Or perhaps you want to put some text in the margin as an aside or to signal that it’s optional content. For these cases we’ll add the <code>side</code> class to our layouts.</p>
<div class="fake-img l-body side">
<p>
l-body side
</p>
</div>
<div class="fake-img l-middle side">
<p>
l-middle side
</p>
</div>
<div class="fake-img l-page side">
<p>
l-page side
</p>
</div>
<p>They are all floated to the right and anchored to the right-hand edge of the position you specify. By default, each will take up approximately half of the width of the standard layout position.</p>
<p>Here’s an example of floating a figure to the right using the <code>fig.layout</code> option:</p>
<pre><code>
```{r, fig.layout=&quot;l-page side&quot;, fig.width=5, fig.height=2}
ggplot(mtcars, aes(wt, hp)) + geom_point() + 
  geom_smooth(method = &#39;lm&#39;) +
  facet_grid(~ gear)
```</code></pre>
<p><img src="images/l-page-side-figure.png" class="l-page side" width="480" /></p>
<p>The figure will be displayed to the right using the requested layout boundary. Note that we also specify values for <code>fig.width</code> and <code>fig.height</code> that are appropriate for this layout.</p>
<p>You can also use the same layouts with static images. In this case, just add the requisite classes using standard markdown image class syntax:</p>
<pre class="markdown"><code>
![](images/l-middle-figure.png){.l-middle}
![](images/l-page-side-figure.png){.l-page .side width=480}</code></pre>
<p>Note that for the side layout we also specify an explicit <code>width</code> which will constrain the image from overflowing the layout region.</p>
<h2 id="interactive-visualizations">Interactive Visualizations</h2>
<p>htmlwidgets</p>
<p>crosstalk</p>
<p>shiny</p>
<h2 id="appendices">Appendices</h2>
<p>Appendices can be added after your article by creating a <code>&lt;div&gt;</code> with class <code>appendix</code>. For example:</p>
<pre class="html"><code>
&lt;div class=&quot;appendix&quot;&gt;
## Acknowledgments

This is a place to recognize people and institutions. It may also be a good place
to acknowledge and cite software that makes your work possible.

## Author Contributions

We strongly encourage you to include an author contributions statement briefly 
describing what each author did.
&lt;/div&gt;</code></pre>
<p>Footnotes and references will be included in the same section, immediately beneath any custom appendices.</p>
<h2 id="todo">TODO</h2>
<ul>
<li>Tables</li>
<li>Definition list</li>
</ul>
<div id="refs" class="references">
<div id="ref-xie2015">
<p>Xie, Yihui. 2015. <em>Dynamic Documents with R and Knitr</em>. 2nd ed. Boca Raton, Florida: Chapman; Hall/CRC. <a href="http://yihui.name/knitr/" class="uri">http://yihui.name/knitr/</a>.</p>
</div>
</div>
<div class="footnotes">
<hr />
<ol>
<li id="fn1"><p>This will become a hoverable footnote<a href="#fnref1" class="footnote-back">↩</a></p></li>
</ol>
</div>
</dt-article>

<dt-appendix class="centered">
</dt-appendix>

  <dt-footer>
  <div class="l-page">
    <div class="description">
    Site created using <a style="color: rgba(255, 255, 255, 0.4)" href="https://jjallaire.github.io/distill">Distill for R Markdown</a>
    </div>
    <div class="nav">
      <a href="/index.html">About</a>
      <a href="/visualizations.html">Visualizations</a>
      <a href="/reference.html">Reference</a>
      <a href="https://github.com/jjallaire/distill">GitHub</a>
    </div>
    <p>
    © Copyright 2018 The Distill Template Authors and RStudio, Inc.
    </p>
  </div>
  </dt-footer>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
