<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="$lang$" xml:lang="$lang$"$if(dir)$ dir="$dir$"$endif$>

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="radix" />

  <title>$if(title-prefix)$$title-prefix$: $endif$$pagetitle$</title>

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

$for(header-includes)$
  $header-includes$
$endfor$

$for(css)$
  <link rel="stylesheet" href="$css$" type="text/css"/>
$endfor$

</head>

<body>

$if(include-before)$
$for(include-before)$
$include-before$
$endfor$
$endif$

<d-title>
<h1>$pagetitle$</h1>
$if(description)$<p>$description$</p>$endif$
</d-title>

$if(author)$
<d-byline>
<div class="byline grid">
<div class="authors-affiliations grid">
<h3>Authors</h3>
<h3>Affiliations</h3>
$for(author)$
  $if(author.name)$
  <p class="author">
      <a class="name">$author.name$</a>
      $author.url$
  </p>
  <p class="affiliation">
      <a class="affiliation">$author.affiliation$</a>
      $author.affiliation_url$
    </p>
  $else$
  <p class="author">
      $author$
  </p>
  $endif$
$endfor$
</div>
<div>
  <h3>Published</h3>
  <p>$if(date)$$date$$else$<em>Not published yet.</em>$endif$</p>
</div>
<div>
  <h3>DOI</h3>
  <p>$if(doi)$<a href="https://doi.org/$doi$">$doi$</a></p>$else$<em>No DOI yet.</em>$endif$
</div>
<div>
</div>
</div>
</d-byline>
$endif$

<d-article>
$body$
</d-article>

<d-appendix>
</d-appendix>

$for(include-after)$
$include-after$
$endfor$

$if(mathjax-url)$
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "$mathjax-url$";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
$endif$

</body>

</html>
